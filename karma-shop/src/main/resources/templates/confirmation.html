<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.thymeleaf.org"
      layout:decorate="~{layout}">
<head>
    <title>Order Confirmation</title>
</head>

<body>
<div layout:fragment="content">
    <!-- Start Banner Area -->
    <section class="banner-area organic-breadcrumb">
        <div class="container">
            <div class="breadcrumb-banner d-flex flex-wrap align-items-center justify-content-end">
                <div class="col-first">
                    <h1>Order Confirmation</h1>
                    <nav class="d-flex align-items-center">
                        <a th:href="@{/}">Home<span class="lnr lnr-arrow-right"></span></a>
                        <a th:href="@{/confirmation}">Confirmation</a>
                    </nav>
                </div>
            </div>
        </div>
    </section>
    <!-- End Banner Area -->

    <!--================Order Details Area =================-->
    <section class="order_details section_gap">
        <div class="container">
            <h3 class="title_confirmation">Thank you. Your order has been received.</h3>
            <div class="row order_d_inner">
                <div class="col-lg-4">
                    <div class="details_item">
                        <h4>Order Info</h4>
                        <ul class="list">
                            <li><a href="#"><span>Order number</span> : <span th:text="${order.orderNumber}">ORD-123456</span></a></li>
                            <li><a href="#"><span>Date</span> : <span th:text="${#temporals.format(order.createdAt, 'dd MMM yyyy')}">01 Jan 2025</span></a></li>
                            <li><a href="#"><span>Total</span> : USD <span th:text="${#numbers.formatDecimal(order.total, 1, 2)}">0.00</span></a></li>
                            <li><a href="#"><span>Payment method</span> : 
                                <span th:text="${order.paymentMethod == T(az.edu.itbrains.karma_shop.enums.PaymentMethod).CHECK_PAYMENTS ? 'Check payments' : 'PayPal'}">Check payments</span>
                            </a></li>
                            <li><a href="#"><span>Status</span> : <span th:text="${order.status}">PENDING</span></a></li>
                        </ul>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="details_item">
                        <h4>Billing Address</h4>
                        <ul class="list">
                            <li><a href="#"><span>Name</span> : <span th:text="${order.firstName + ' ' + order.lastName}">John Doe</span></a></li>
                            <li><a href="#"><span>Address</span> : <span th:text="${order.addressLine1}">Address</span></a></li>
                            <li><a href="#"><span>City</span> : <span th:text="${order.city}">City</span></a></li>
                            <li><a href="#"><span>Country</span> : <span th:text="${order.country}">Country</span></a></li>
                            <li th:if="${order.zipCode != null}"><a href="#"><span>Postcode</span> : <span th:text="${order.zipCode}">12345</span></a></li>
                        </ul>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="details_item">
                        <h4>Shipping Address</h4>
                        <ul class="list">
                            <li><a href="#"><span>Name</span> : <span th:text="${order.shippingFirstName + ' ' + order.shippingLastName}">John Doe</span></a></li>
                            <li><a href="#"><span>Address</span> : <span th:text="${order.shippingAddressLine1}">Address</span></a></li>
                            <li><a href="#"><span>City</span> : <span th:text="${order.shippingCity}">City</span></a></li>
                            <li><a href="#"><span>Country</span> : <span th:text="${order.shippingCountry}">Country</span></a></li>
                            <li th:if="${order.shippingZipCode != null}"><a href="#"><span>Postcode</span> : <span th:text="${order.shippingZipCode}">12345</span></a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="order_details_table">
                <h2>Order Details</h2>
                <div class="table-responsive">
                    <table class="table">
                        <thead>
                        <tr>
                            <th scope="col">Product</th>
                            <th scope="col">Quantity</th>
                            <th scope="col">Total</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr th:each="item : ${order.orderItems}">
                            <td>
                                <p th:text="${item.productName}">Product Name</p>
                            </td>
                            <td>
                                <h5 th:text="'x ' + ${item.quantity}">x 1</h5>
                            </td>
                            <td>
                                <p th:text="'$' + ${#numbers.formatDecimal(item.getTotal(), 1, 2)}">$0.00</p>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <h4>Subtotal</h4>
                            </td>
                            <td>
                                <h5></h5>
                            </td>
                            <td>
                                <p th:text="'$' + ${#numbers.formatDecimal(order.subtotal, 1, 2)}">$0.00</p>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <h4>Shipping</h4>
                            </td>
                            <td>
                                <h5></h5>
                            </td>
                            <td>
                                <p th:text="'Flat rate: $' + ${#numbers.formatDecimal(order.shippingCost, 1, 2)}">Flat rate: $5.00</p>
                            </td>
                        </tr>
                        <tr th:if="${order.couponCode != null}">
                            <td>
                                <h4 class="text-success">Discount (<span th:text="${order.couponCode}"></span>)</h4>
                            </td>
                            <td>
                                <h5></h5>
                            </td>
                            <td>
                                <p class="text-success" th:text="'-$' + ${#numbers.formatDecimal(order.discount, 1, 2)}">-$0.00</p>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <h4><strong>Total</strong></h4>
                            </td>
                            <td>
                                <h5></h5>
                            </td>
                            <td>
                                <p><strong th:text="'$' + ${#numbers.formatDecimal(order.total, 1, 2)}">$0.00</strong></p>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            
            <!-- Continue Shopping Button -->
            <div class="text-center mt-4">
                <a th:href="@{/}" class="primary-btn">Continue Shopping</a>
            </div>
        </div>
    </section>
    <!--================End Order Details Area =================-->
</div>
</body>
</html>
